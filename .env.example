# =============================================================================
# CO.RA.PAN Environment Variables Example
# =============================================================================
#
# 1. Kopiere diese Datei zu ".env"
# 2. FÃ¼lle die Werte aus
# 3. NIEMALS ".env" zu Git committen!
#
# =============================================================================

# -----------------------------------------------------------------------------
# Flask Configuration
# -----------------------------------------------------------------------------

# CRITICAL: Change this to a strong random secret key!
FLASK_SECRET_KEY=dev-secret-key-change-me

# Environment: development, production, testing
FLASK_ENV=development

# Debug mode
FLASK_DEBUG=true

# Session cookie security
FLASK_SESSION_SECURE=false
FLASK_SESSION_SAMESITE=lax

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------

JWT_PUBLIC_KEY_PATH=config/keys/jwt_public.pem
JWT_PRIVATE_KEY_PATH=config/keys/jwt_private.pem

# -----------------------------
# Auth / Token Configuration
# -----------------------------
# JWT signing key. Use JWT_SECRET_KEY (preferred) or legacy JWT_SECRET.
# For RSA use PRIVATE/PUBLIC key files above and set JWT_ALG to RS256.
JWT_SECRET_KEY=dev-jwt-secret-change-me
JWT_ALG=HS256

# Which DB to use for auth (SQLAlchemy URL)
# Dev default: PostgreSQL from docker-compose.dev-postgres.yml
# Production: Set via environment variable
AUTH_DATABASE_URL=postgresql+psycopg2://corapan_auth:corapan_auth@localhost:54320/corapan_auth

# Hashing algorithm for stored passwords. Use argon2 (recommended) or bcrypt
AUTH_HASH_ALGO=argon2

# When running locally with cookies you may set this to false; set to true in production
JWT_COOKIE_SECURE=false

# -----------------------------------------------------------------------------
# Corpus Features (Optional - can be removed for minimal template)
# -----------------------------------------------------------------------------

# BlackLab server URL (required for corpus search)
# Comment out or remove if not using corpus search module
BLACKLAB_BASE_URL=http://localhost:8081/blacklab-server

# Allow anonymous access to audio snippets (security setting)
# Set to true to allow unauthenticated users to play audio
# Set to false to require login for audio playback
ALLOW_PUBLIC_TEMP_AUDIO=false

# -----------------------------------------------------------------------------
# Analytics (Optional)
# -----------------------------------------------------------------------------
# No environment variables required - uses main auth database
# To disable analytics, remove the module (see docs/PRUNING_GUIDE.md)

# Days after soft-delete to anonymize account (local dev default)
AUTH_ACCOUNT_ANONYMIZE_AFTER_DAYS=30

# Optional helper values used by scripts/create_initial_admin.py
START_ADMIN_USERNAME=admin
START_ADMIN_PASSWORD=change-me

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------

DB_PATH=data/db/corapan.db
DB_PUBLIC_PATH=data/db_public/corapan_public.db

# -----------------------------------------------------------------------------
# BlackLab Configuration
# -----------------------------------------------------------------------------

BLACKLAB_SERVER_URL=http://localhost:8081/blacklab-server
