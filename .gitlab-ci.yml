# =============================================================================
# GitLab CI/CD Pipeline für CO.RA.PAN Webapp
# =============================================================================
#
# Minimal pipeline for scientific webapp - just validates that code works
# No complex tests needed for low-traffic academic project
# =============================================================================

stages:
  - validate

variables:
  PYTHON_VERSION: "3.12"

# =============================================================================
# VALIDATION: Simple Python syntax check
# =============================================================================

validate:syntax:
  stage: validate
  image: python:${PYTHON_VERSION}-slim
  script:
    - echo "Checking Python syntax..."
    - python -m py_compile src/app/*.py
    - python -m py_compile src/app/routes/*.py
    - python -m py_compile src/app/services/*.py
    - python -m py_compile src/app/auth/*.py
    - echo "✅ Python syntax is valid!"
  only:
    - branches
    - merge_requests
    - main

# =============================================================================
# Notes:
# =============================================================================
# 
# This is a MINIMAL CI/CD pipeline for a scientific webapp.
# It only validates Python syntax - no complex tests needed.
# 
# For future expansion:
#   - Add pytest for unit tests
#   - Add Docker build stage
#   - Add automatic deployment
# 
# Current approach: Keep it simple, deploy manually
# =============================================================================
    url: https://staging.corapan.example.com
